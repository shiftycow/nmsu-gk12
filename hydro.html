<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Hydroelectric Dam Simulation</title>
		<link type="text/css" href="jquery/css/smoothness/jquery-ui-1.8.9.custom.css" rel="stylesheet" />	
		<script type="text/javascript" src="jquery/js/jquery-1.4.4.min.js"></script>
		<script type="text/javascript" src="jquery/js/jquery-ui-1.8.9.custom.min.js"></script>
		
        <link type="text/css" href="default.css" rel="stylesheet" />	
        <link type="text/css" href="hydro.css" rel="stylesheet" />	

	</head>
	<body>

<div id="header"> 
<h1>Hydroelectric Dam Simulation</h1> 
</div><!--end header--> 
 
<div id="content">
<div id="column_container">
<div id="column1">
<canvas id="demo_canvas" width="640" height="480"> 
This demo requires browser support for the &lt;canvas&gt; element. This can be found in recent versions of Firefox, Chrome, and Safari.
</canvas> 
</div><!--end column1-->

<div id="column2">
<div id="controls">    
    <div id="height_slider" style="height: 480px; float: left"></div> 
    <div id="other_controls" style="float: left; padding-left: 20px;">
        Height of water: <input type="text" id="height_input" size="3" onchange="set_height()"/>meters<br />
        <br /> 
        Power Generated: <input type="text" id="power_output" readonly size="5"/>Watts<br />
        <div id="lightbulbs"></div><!--div to hold the animated lightbulbs-->

        <div class="info ui-state-highlight ui-corner-all">
            Power generated = h * r * G * k
            <ul>
                <li>h = height of water (meters)</li>
                <li>r = flow rate of water (meters^3/s)</li>
                <li>g = Gravitational accelleration (9.8m/s^s)</li>
                <li>k = efficiency of the generator ( 0 &lt; k &lt; 1)</li>
            </ul>
        </div><!--end equation info div-->
    </div><!--end "other controls"-->

    <script type="text/javascript"> 
        //default variables
        var default_height = 20;

        function power_generated(h,r,k)
        {
            //power calculation function
            
            var power = h * r * 9.8 * k;
            return power;
        }//end power generated
       
        function update_screen()
        {
            //function that updates the various display elements based on user input
            
            var h = parseFloat($("#height_input").val());
            var r = 0.5; //parseInt($("#flow_rate_input").val());
            var k = 0.8; //parseInt($("flow_rate_input").val());
            
            var power = power_generated(h,r,k);
            $("#power_output").val(power);
        }//end update_screen
       
        function set_height()
        {
            //sets the height of the slider programmatically
            //used when users enter text directly
            var h = parseFloat($("#height_input").val());
            $("#height_slider").slider("value", h);
            //the "change" event of the slider will be invoked 
            //by the "value" method, so we don't have to update anything
            //manually here
        }//emd set height

        function update_height(h)
        {
            //updates the height entry field and updates the screen
            ($("#height_input").val(h)); 
            update_screen();
        }//end update height

        //script to initialize the controls
        $("#height_slider").slider({
                                    orientation: "vertical",
                                    min: 0,
                                    max: 100,
                                    range: "min",
                                    animate: true,
                                    value: default_height,
                                    change: function(event,ui){
                                                update_height(ui.value); 
                                            },

                                    create: function(event,ui){
                                                update_height(default_height); 
                                            }//end create
                                    });
    </script>
</div><!--end controlls--> 

</div><!--end column2-->
</div><!--end content-->  
</div><!--end container--> 	


    </body>
</html>


